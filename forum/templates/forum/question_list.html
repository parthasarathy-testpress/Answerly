{% extends "base.html" %}
{% load static %}
{% load humanize %}
{% load widget_tweaks %}

{% block title %}Home - Questions{% endblock %}

{% block header %}
    {% include "forum/_search_card.html" %}
{% endblock %}

{% block content %}
<h2 class="mb-4">Recent Questions</h2>
<div class="row">
  {% for question in questions %}
  <div class="col-md-12 mb-3">
    <a href="{% url 'question_detail' question.pk %}" class="text-decoration-none text-reset">
      {% include "forum/_question_card.html" %}
    </a>
  </div>
  {% empty %}
  <p>No questions found.</p>
  {% endfor %}
</div>

{% if request.user.is_authenticated %}
  {% include "_pagination.html" %}
{% else %}
  {% if is_paginated and page_obj.has_next %}
    <div class="text-center mt-4">
      <a href="{% url 'login' %}?next={{ request.get_full_path|urlencode }}" class="btn btn-primary btn-lg">
        Load More Questions
      </a>
      <p class="text-muted mt-2 small">Please login to see more questions</p>
    </div>
  {% endif %}
{% endif %}
{% endblock %}
